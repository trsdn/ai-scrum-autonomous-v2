# Sprint Runner Test Configuration
# Use this config to run test sprints that are isolated from production.
# Usage: npx tsx src/index.ts run --config sprint-runner.test.yaml
#
# Creates "Test Sprint N" milestones, "test-sprint-N-state.json" files,
# and "test-sprint/N/issue-N" branches â€” fully isolated from production sprints.

project:
  name: "ai-scrum-autonomous-v2"
  base_branch: "main"

copilot:
  executable: "copilot"
  max_parallel_sessions: 2
  session_timeout_ms: 300000
  auto_approve_tools: true

  mcp_servers:
    - name: "github"
      type: "stdio"
      command: "npx"
      args: ["-y", "@github/mcp-server"]

  instructions: []

  phases:
    planner:
      model: "claude-sonnet-4.5"
    worker:
      model: "claude-sonnet-4.5"
    reviewer:
      model: "claude-sonnet-4.5"

sprint:
  prefix: "Test Sprint"
  max_issues: 3
  max_drift_incidents: 2
  max_retries: 1
  enable_challenger: false
  auto_revert_drift: false

quality_gates:
  require_tests: true
  require_lint: true
  require_types: true
  max_diff_lines: 300
  require_challenger: false
  require_ci_green: true
  ci_wait_timeout_ms: 180000

escalation:
  notifications:
    ntfy: true
    ntfy_topic: "${NTFY_TOPIC}"

git:
  worktree_base: "../sprint-worktrees"
  branch_pattern: "{prefix}/{sprint}/issue-{issue}"
  auto_merge: true
  squash_merge: true
  delete_branch_after_merge: true

github: {}
