# Sprint Runner Configuration
# See src/config.ts for schema and validation

project:
  name: "ai-scrum-autonomous-v2"
  base_branch: "main"

copilot:
  executable: "copilot"
  max_parallel_sessions: 4
  session_timeout_ms: 600000
  auto_approve_tools: true

  # Global MCP servers — attached to every ACP session
  mcp_servers:
    - name: "github"
      type: "stdio"
      command: "npx"
      args: ["-y", "@github/mcp-server"]

  # Global instructions — prepended to every prompt
  instructions: []

  # Per-phase configuration (model + additional MCPs + instructions)
  phases:
    planner:
      model: "claude-opus-4.6"
    worker:
      model: "claude-sonnet-4.5"
    reviewer:
      model: "claude-opus-4.6"

sprint:
  max_issues: 8
  max_drift_incidents: 2
  max_retries: 2
  enable_challenger: true
  auto_revert_drift: false

quality_gates:
  require_tests: true
  require_lint: true
  require_types: true
  require_build: true
  max_diff_lines: 300
  require_challenger: true

escalation:
  notifications:
    ntfy: true
    ntfy_topic: "${NTFY_TOPIC}"

git:
  worktree_base: "../sprint-worktrees"
  branch_pattern: "{prefix}/{sprint}/issue-{issue}"
  auto_merge: true
  squash_merge: true
  delete_branch_after_merge: true

github: {}
