<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sprint Runner â€” Dashboard</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Header -->
  <header id="header">
    <div class="header-left">
      <h1>ğŸƒ Sprint Runner</h1>
      <div class="sprint-nav">
        <button id="btn-prev" class="btn btn-nav" title="Previous sprint">â—€</button>
        <span id="sprint-label" class="sprint-badge">Sprint â€”</span>
        <button id="btn-next" class="btn btn-nav" title="Next sprint">â–¶</button>
      </div>
      <span id="phase-badge" class="phase-badge phase-init">init</span>
      <span id="viewing-indicator" class="viewing-indicator" style="display:none">ğŸ‘ viewing</span>
    </div>
    <div class="header-right">
      <span id="issue-count" class="issue-count">0/0 done</span>
      <span id="elapsed" class="elapsed">0m 00s</span>
      <button id="btn-start" class="btn btn-primary" title="Start sprint">â–¶ Start</button>
      <button id="btn-sessions" class="btn" title="View ACP Sessions">ğŸ” Sessions</button>
      <button id="btn-chat" class="btn" title="Open Agent Chat">ğŸ’¬ Chat</button>
    </div>
  </header>

  <!-- Main content -->
  <main>
    <!-- Left panel: Issues -->
    <section id="issues-panel" class="panel">
      <h2>Issues</h2>
      <ul id="issue-list"></ul>
    </section>

    <!-- Right panel: Activity + Log -->
    <section id="activity-panel" class="panel">
      <h2>Activity</h2>
      <ul id="activity-list"></ul>
      <h2>Log</h2>
      <div id="log-panel"></div>
    </section>

    <!-- Chat panel (slide-out) -->
    <section id="chat-panel" class="panel chat-panel" style="display:none">
      <div class="chat-header">
        <h2>Agent Chat</h2>
        <div class="chat-controls">
          <select id="chat-role">
            <option value="general">General</option>
            <option value="researcher">Researcher</option>
            <option value="planner">Planner</option>
            <option value="reviewer">Reviewer</option>
          </select>
          <button id="btn-new-chat" class="btn btn-small">+ New</button>
          <button id="btn-close-chat" class="btn btn-small" title="Close panel">âœ•</button>
        </div>
      </div>
      <div id="chat-sessions-bar"></div>
      <div id="chat-messages"></div>
      <div class="chat-input-row">
        <textarea id="chat-input" placeholder="Type a messageâ€¦" rows="2"></textarea>
        <button id="btn-send" class="btn btn-primary btn-small" disabled>Send</button>
      </div>
    </section>

    <!-- Session viewer panel (slide-out) -->
    <section id="session-panel" class="panel session-panel" style="display:none">
      <div class="session-header">
        <h2>ACP Sessions</h2>
        <button id="btn-close-sessions" class="btn btn-small" title="Close panel">âœ•</button>
      </div>
      <ul id="session-list" class="session-list"></ul>
      <div id="session-viewer" class="session-viewer" style="display:none">
        <div class="session-viewer-header">
          <button id="btn-back-sessions" class="btn btn-small">â† Back</button>
          <span id="session-viewer-title"></span>
        </div>
        <pre id="session-output" class="session-output"></pre>
      </div>
    </section>
  </main>

  <!-- Connection status -->
  <footer>
    <span id="connection-status" class="status-dot status-disconnected"></span>
    <span id="connection-label">Disconnected</span>
  </footer>

  <script src="app.js"></script>
</body>
</html>
